# MonitorControllerMax å¼€å‘è¿›åº¦ï¼šStage 1å®Œæˆ - å›¢é˜Ÿäº¤æ¥æ–‡æ¡£

## ğŸ¯ **å½“å‰çŠ¶æ€ï¼šStage 1 å·²å®Œæˆ**

### **âœ… å·²å®Œæˆçš„æ ¸å¿ƒåŠŸèƒ½ (100%)**

#### **1. é«˜çº§Solo/MuteçŠ¶æ€ç®¡ç†ç³»ç»Ÿ**
- âœ… **JSé£æ ¼çŠ¶æ€æ£€æµ‹æœºåˆ¶** - åŸºäºçŠ¶æ€å˜åŒ–æ£€æµ‹çš„ç¨³å®šé€»è¾‘
- âœ… **å®Œæ•´çŠ¶æ€å¿«ç…§å’Œæ¢å¤** - è¿›å…¥Soloæ—¶ä¿å­˜å®Œæ•´MuteçŠ¶æ€ï¼Œé€€å‡ºæ—¶å®Œç¾æ¢å¤
- âœ… **åŒé‡çŠ¶æ€åˆ†ç±»** - åŒºåˆ†æ‰‹åŠ¨Muteå’ŒSoloè”åŠ¨Muteï¼Œé¿å…çŠ¶æ€æ··ä¹±
- âœ… **å·¥å…·é€‰æ‹©æ¨¡å¼** - Solo/MuteæŒ‰é’®ä½œä¸ºå·¥å…·é€‰æ‹©å™¨è€Œéä¼ ç»Ÿå¼€å…³
- âœ… **é˜²å¿«é€Ÿç‚¹å‡»æœºåˆ¶** - è§£å†³è¿ç»­ç‚¹å‡»å¯¼è‡´çš„çŠ¶æ€æŸåé—®é¢˜

#### **2. åŠ¨æ€I/Oé€šé“å‘½å**
- âœ… **æ™ºèƒ½é€šé“æ˜ å°„** - ä»ç‰©ç†é€šé“åˆ°é€»è¾‘å£°é“åçš„å®Œæ•´æ˜ å°„
- âœ… **å®æ—¶æ›´æ–°æœºåˆ¶** - é…ç½®åˆ‡æ¢æ—¶ç«‹å³é€šçŸ¥DAWåˆ·æ–°é’ˆè„šå
- âœ… **å¤šå¸ƒå±€æ”¯æŒ** - å®Œæ•´æ”¯æŒ1.0åˆ°7.1.4çš„æ‰€æœ‰æ ‡å‡†å¸ƒå±€
- âœ… **DAWå…¼å®¹æ€§** - ç»REAPERéªŒè¯çš„å¯é I/OçŸ©é˜µåç§°æ˜¾ç¤º

#### **3. è‡ªåŠ¨æ€»çº¿å¸ƒå±€åˆ‡æ¢**
- âœ… **æ™ºèƒ½æ£€æµ‹** - è‡ªåŠ¨ç›‘æµ‹DAWè½¨é“é€šé“æ•°å˜åŒ–
- âœ… **æœ€ä¼˜é…ç½®é€‰æ‹©** - æ ¹æ®å¯ç”¨é€šé“æ•°è‡ªåŠ¨é€‰æ‹©æœ€é€‚åˆçš„éŸ³ç®±å¸ƒå±€
- âœ… **åŒé‡æ›´æ–°æœºåˆ¶** - è‡ªåŠ¨æ›´æ–°å’Œæ‰‹åŠ¨é€‰æ‹©æ›´æ–°å¹¶å­˜ï¼Œé˜²æ­¢å¼ºåˆ¶è¦†ç›–

#### **4. UIçŠ¶æ€ç®¡ç†**
- âœ… **ç»Ÿä¸€çŠ¶æ€ç®¡ç†** - æ‰‹åŠ¨ç®¡ç†æ‰€æœ‰æŒ‰é’®çŠ¶æ€ï¼Œç¡®ä¿ä¸€è‡´æ€§
- âœ… **å®æ—¶è§†è§‰åé¦ˆ** - Soloç»¿è‰²ã€Muteçº¢è‰²çš„å³æ—¶çŠ¶æ€æ˜¾ç¤º
- âœ… **é˜²å†²çªæœºåˆ¶** - é¿å…æŒ‰é’®è‡ªåŠ¨çŠ¶æ€åˆ‡æ¢å¯¼è‡´çš„æ„å¤–è§¦å‘

---

## ğŸ”§ **å·²è§£å†³çš„å…³é”®æŠ€æœ¯é—®é¢˜**

### **ç¼–è¯‘å™¨å…¼å®¹æ€§é—®é¢˜ âœ…**
- **é—®é¢˜ï¼š** Visual Studioæ— æ³•æ­£ç¡®è§£æåŒ…å«ä¸­æ–‡æ³¨é‡Šçš„å¤´æ–‡ä»¶
- **è§£å†³ï¼š** å°†æ‰€æœ‰å¤´æ–‡ä»¶ä¸­çš„ä¸­æ–‡æ³¨é‡Šæ›¿æ¢ä¸ºè‹±æ–‡
- **çŠ¶æ€ï¼š** ç¼–è¯‘ç³»ç»Ÿå®Œå…¨æ­£å¸¸ï¼Œæ— é”™è¯¯

### **SoloçŠ¶æ€ç®¡ç†æ ¸å¿ƒBug âœ…**
- **é—®é¢˜ï¼š** å¿«é€Ÿç‚¹å‡»Soloå¯¼è‡´çŠ¶æ€æ°¸ä¹…æŸåï¼Œæ‰‹åŠ¨MuteçŠ¶æ€ä¸¢å¤±
- **è§£å†³ï¼š** å®ç°åŸºäºJSFXçš„çŠ¶æ€å˜åŒ–æ£€æµ‹æœºåˆ¶
- **çŠ¶æ€ï¼š** Soloé€»è¾‘å®Œå…¨ç¨³å®šï¼Œæ‰€æœ‰æµ‹è¯•åœºæ™¯é€šè¿‡

### **æŒ‰é’®è¿é”è§¦å‘é—®é¢˜ âœ…**
- **é—®é¢˜ï¼š** Solo/MuteæŒ‰é’®äº’ç›¸è®¾ç½®çŠ¶æ€æ—¶è§¦å‘å¯¹æ–¹çš„onClickäº‹ä»¶
- **è§£å†³ï¼š** ä½¿ç”¨`dontSendNotification`é¿å…è¿é”è§¦å‘
- **çŠ¶æ€ï¼š** æŒ‰é’®æ“ä½œå®Œå…¨ç‹¬ç«‹ï¼Œæ— å¹²æ‰°

### **C++è¯­æ³•å…¼å®¹æ€§ âœ…**
- **é—®é¢˜ï¼š** ä½¿ç”¨äº†C++17èŒƒå›´forå¾ªç¯ï¼Œåœ¨è¾ƒè€ç¼–è¯‘å™¨ä¸­ä¸æ”¯æŒ
- **è§£å†³ï¼š** æ›¿æ¢ä¸ºä¼ ç»Ÿè¿­ä»£å™¨è¯­æ³•
- **çŠ¶æ€ï¼š** å¹¿æ³›çš„ç¼–è¯‘å™¨å…¼å®¹æ€§ç¡®ä¿

---

## ğŸ“‹ **æ ¸å¿ƒæŠ€æœ¯å®ç°è¯¦è§£**

### **Solo/MuteçŠ¶æ€ç®¡ç†ç³»ç»Ÿæ¶æ„**

#### **æ•°æ®ç»“æ„è®¾è®¡**
```cpp
// PluginProcessor.h - æ ¸å¿ƒçŠ¶æ€ç®¡ç†
private:
    // JSé£æ ¼SoloçŠ¶æ€æ£€æµ‹
    bool previousSoloActive = false;
    
    // çŠ¶æ€å¿«ç…§ç³»ç»Ÿ
    std::map<juce::String, bool> preSoloSnapshot;
    
    // çŠ¶æ€åˆ†ç±»ç®¡ç†
    std::set<juce::String> manualMuteStates;
    std::set<juce::String> soloInducedMuteStates;
```

#### **å…³é”®é€»è¾‘å‡½æ•°**
```cpp
// åŸºäºJSä»£ç åŸç†çš„çŠ¶æ€å˜åŒ–æ£€æµ‹
void checkSoloStateChange() {
    bool currentSoloActive = /* æ£€æŸ¥æ˜¯å¦æœ‰Soloæ¿€æ´» */;
    
    // åªåœ¨çŠ¶æ€å˜åŒ–æ—¶é‡‡å–è¡ŒåŠ¨ï¼ˆJSFXé€»è¾‘ï¼‰
    if (currentSoloActive != previousSoloActive) {
        if (currentSoloActive) {
            // è¿›å…¥Soloï¼šä¿å­˜çŠ¶æ€å¿«ç…§
            savePreSoloSnapshot();
        } else {
            // é€€å‡ºSoloï¼šæ¢å¤çŠ¶æ€å¿«ç…§
            restorePreSoloSnapshot();
        }
        previousSoloActive = currentSoloActive;
    }
    
    // åº”ç”¨Soloè”åŠ¨é€»è¾‘ï¼ˆå½“Soloæ¿€æ´»æ—¶ï¼‰
    if (currentSoloActive) {
        applySoloMutingLogic();
    }
}
```

#### **UIäº¤äº’æµç¨‹**
```cpp
// ç®€åŒ–çš„SoloæŒ‰é’®ç‚¹å‡»é€»è¾‘
void handleSoloButtonClick(int channelIndex) {
    // 1. ç®€å•åˆ‡æ¢SoloçŠ¶æ€
    toggleSoloParameter(channelIndex);
    
    // 2. è®©å¤„ç†å™¨æ£€æŸ¥çŠ¶æ€å˜åŒ–ï¼ˆJSé£æ ¼ï¼‰
    audioProcessor.checkSoloStateChange();
    
    // 3. æ›´æ–°UIæ˜¾ç¤º
    updateChannelButtonStates();
}
```

### **åŠ¨æ€I/Oé€šé“å‘½åå®ç°**

#### **é€šé“åç§°æ˜ å°„é€»è¾‘**
```cpp
const String getInputChannelName(int channelIndex) const override {
    int totalChannels = getTotalNumInputChannels();
    
    switch (totalChannels) {
        case 2:  // ç«‹ä½“å£°
            return (channelIndex == 0) ? "Left" : "Right";
        case 6:  // 5.1ç¯ç»•å£°
            static const char* names[] = {"Left", "Right", "Centre", "LFE", "LS", "RS"};
            return names[channelIndex];
        case 8:  // 7.1ç¯ç»•å£°
            static const char* names[] = {"Left", "Right", "Centre", "LFE", "LS", "RS", "LB", "RB"};
            return names[channelIndex];
        // ... æ›´å¤šå¸ƒå±€
    }
    return "Input " + String(channelIndex + 1);
}
```

#### **å®¿ä¸»é€šçŸ¥æœºåˆ¶**
```cpp
void setCurrentLayout(const String& speaker, const String& sub) {
    currentLayout = configManager.getLayoutFor(speaker, sub);
    
    // å¤šé‡é€šçŸ¥ç¡®ä¿DAWå“åº”
    updateHostDisplay();
    Timer::callAfterDelay(50, [this]() { updateHostDisplay(); });
    Timer::callAfterDelay(200, [this]() { updateHostDisplay(); });
}
```

---

## ğŸ§ª **æµ‹è¯•éªŒè¯çŠ¶æ€**

### **åŠŸèƒ½æµ‹è¯• âœ… å…¨éƒ¨é€šè¿‡**

#### **Solo/MuteçŠ¶æ€ç®¡ç†**
- âœ… **åŸºç¡€åŠŸèƒ½ï¼š** Solo/MuteæŒ‰é’®æ­£å¸¸å·¥ä½œ
- âœ… **çŠ¶æ€æ¢å¤ï¼š** æ‰‹åŠ¨Mute â†’ Soloæ“ä½œ â†’ é€€å‡ºSolo â†’ å®Œç¾æ¢å¤åŸå§‹çŠ¶æ€
- âœ… **å¿«é€Ÿç‚¹å‡»ï¼š** è¿ç»­å¿«é€Ÿç‚¹å‡»ä¸å†å¯¼è‡´çŠ¶æ€æŸå
- âœ… **ç‰¹æ®Šåºåˆ—ï¼š** "Solo L â†’ Cancel â†’ Solo L â†’ Cancel" åºåˆ—æ­£å¸¸å·¥ä½œ
- âœ… **æŒ‰é’®ç‹¬ç«‹ï¼š** Soloå’ŒMuteæŒ‰é’®æ“ä½œå®Œå…¨ç‹¬ç«‹

#### **åŠ¨æ€I/Oå‘½å**
- âœ… **ç«‹ä½“å£°ï¼š** L/Råç§°æ­£ç¡®æ˜¾ç¤º
- âœ… **5.1ç¯ç»•å£°ï¼š** Left/Right/Centre/LFE/LS/RSåç§°æ­£ç¡®
- âœ… **7.1ç¯ç»•å£°ï¼š** å®Œæ•´8é€šé“åç§°æ­£ç¡®
- âœ… **7.1.4å…¨æ™¯å£°ï¼š** 12é€šé“åç§°æ­£ç¡®
- âœ… **å®æ—¶æ›´æ–°ï¼š** è½¨é“é€šé“æ•°å˜åŒ–æ—¶è‡ªåŠ¨æ›´æ–°

#### **è‡ªåŠ¨å¸ƒå±€åˆ‡æ¢**
- âœ… **æ™ºèƒ½é€‰æ‹©ï¼š** æ ¹æ®é€šé“æ•°è‡ªåŠ¨é€‰æ‹©æœ€åˆé€‚å¸ƒå±€
- âœ… **æ‰‹åŠ¨ä¼˜å…ˆï¼š** ç”¨æˆ·æ‰‹åŠ¨é€‰æ‹©ä¸è¢«å¼ºåˆ¶è¦†ç›–
- âœ… **UIåŒæ­¥ï¼š** ä¸‹æ‹‰æ¡†ä¸å®é™…é…ç½®å®Œå…¨åŒæ­¥

### **ç¼–è¯‘æµ‹è¯• âœ… å…¨éƒ¨é€šè¿‡**
- âœ… **Debugç¼–è¯‘ï¼š** æ— é”™è¯¯ï¼Œä»…æœ‰å¯å¿½ç•¥çš„Unicodeè­¦å‘Š
- âœ… **Releaseç¼–è¯‘ï¼š** æ­£å¸¸æ„å»º
- âœ… **Standaloneåº”ç”¨ï¼š** æ­£å¸¸è¿è¡Œ
- âœ… **VST3æ’ä»¶ï¼š** åœ¨REAPERä¸­æ­£å¸¸åŠ è½½å’Œå·¥ä½œ

---

## ğŸš¨ **æ¶æ„é©æ–°ï¼šå…¨æ–°çŠ¶æ€æœºé‡å»ºè®¡åˆ’**

### **ğŸ”¥ å½“å‰é—®é¢˜è¯Šæ–­**

**æ ¹æœ¬é—®é¢˜ï¼š** å½“å‰çš„Solo/Muteé€»è¾‘åŸºäº**å¼±å°çš„æ¶æ„æ–¹æ¡ˆ**ï¼Œç¼ºä¹ç»Ÿä¸€çš„çŠ¶æ€æœºç®¡ç†ï¼š

1. **çŠ¶æ€ç®¡ç†æ··ä¹±**: å¤šä¸ªåœ°æ–¹ä¿®æ”¹çŠ¶æ€ï¼Œç¼ºä¹ä¸­å¤®æ§åˆ¶
2. **ä¼˜å…ˆçº§ä¸æ˜ç¡®**: Soloå’ŒMuteäº¤äº’æ—¶è¡Œä¸ºä¸ä¸€è‡´
3. **è®°å¿†æœºåˆ¶ç¼ºå¤±**: æ— æ³•å®ç°æŒä¹…åŒ–çš„Muteè®°å¿†
4. **é€‰æ‹©æ¨¡å¼é”™è¯¯**: æŒ‰é’®çŠ¶æ€ä¸å®é™…é€‰æ‹©æ¨¡å¼ä¸åŒ¹é…

**æµ‹è¯•å‘ç°çš„Bug:**
- Solo Ré€šé“åå†ç‚¹å‡»RæŒ‰é’®ï¼Œæ¦‚ç‡æ€§æ®‹ç•™auto-mute
- æ‰‹åŠ¨ç‚¹å‡»MuteæŒ‰é’®å¯ä¸´æ—¶ä¿®å¤ï¼Œè¯´æ˜çŠ¶æ€ç®¡ç†ä¸ä¸€è‡´

### **ğŸ’¡ å…¨æ–°æ¶æ„è®¾è®¡ï¼šå¼ºå¤§çš„ç»Ÿä¸€çŠ¶æ€æœº**

#### **ğŸ—ï¸ æ ¸å¿ƒè®¾è®¡ç†å¿µ**

**åŸºäºç”¨æˆ·6å¤§æ ¸å¿ƒè§‚ç‚¹çš„çŠ¶æ€æœºï¼š**

1. **æŒ‰é’®æ¿€æ´» = é€‰æ‹©çŠ¶æ€** - æŒ‰é’®å¤–è§‚ç›´æ¥åæ˜ é€‰æ‹©æ¨¡å¼
2. **Soloä¼˜å…ˆçº§é«˜äºMute** - åŒæ¿€æ´»çŠ¶æ€ä¸‹Soloæ§åˆ¶è¡Œä¸º
3. **ä¸»æŒ‰é’® = å…¨æ¸…é™¤+é€€å‡º** - ä¸€é”®é‡ç½®åˆ°NormalçŠ¶æ€
4. **é€šé“å–æ¶ˆ = å›åˆ°é€‰æ‹©** - ä¿æŒé€‰æ‹©æ¨¡å¼ä¸é€€å‡º
5. **å¼ºåŒ–é€‰æ‹©æ¨¡å¼** - é€šé“æ“ä½œä¸ä¼šæ„å¤–é€€å‡ºé€‰æ‹©
6. **MuteæŒä¹…è®°å¿†** - è·¨ä¼šè¯çš„çŠ¶æ€ä¿å­˜æœºåˆ¶

### **ğŸ”§ å®æ–½æ­¥éª¤è¯¦è§£**

#### **Step 1: å…¨æ–°çŠ¶æ€æœºåŸºç¡€æ¶æ„** (é¢„è®¡4å°æ—¶)

**ç›®æ ‡ï¼š** å½»åº•é‡å»ºçŠ¶æ€ç®¡ç†ç³»ç»Ÿï¼Œå®ç°ç»Ÿä¸€çš„çŠ¶æ€æœºæ§åˆ¶

**1.1 å®šä¹‰æ–°çŠ¶æ€æœºæšä¸¾**
```cpp
// PluginProcessor.h - æ·»åŠ å¼ºå¤§çš„çŠ¶æ€æœºå®šä¹‰
enum class SystemState {
    Normal,          // é»˜è®¤çŠ¶æ€ï¼šæ— é€‰æ‹©ï¼Œæ— æ¿€æ´»
    SoloSelecting,   // Soloé€‰æ‹©çŠ¶æ€ï¼šSoloæŒ‰é’®äº®èµ·ï¼Œç­‰å¾…é€šé“é€‰æ‹©  
    MuteSelecting,   // Muteé€‰æ‹©çŠ¶æ€ï¼šMuteæŒ‰é’®äº®èµ·ï¼Œç­‰å¾…é€šé“é€‰æ‹©
    SoloActive,      // Soloæ¿€æ´»çŠ¶æ€ï¼šæœ‰é€šé“è¢«Soloï¼Œå…¶ä»–auto-mute
    MuteActive,      // Muteæ¿€æ´»çŠ¶æ€ï¼šæœ‰é€šé“è¢«æ‰‹åŠ¨Mute
    SoloMuteActive   // åŒæ¿€æ´»çŠ¶æ€ï¼šSoloæ¿€æ´»+auto-muteï¼ŒSoloä¼˜å…ˆ
};

enum class ChannelState {
    Normal,          // æ­£å¸¸çŠ¶æ€
    ManualMute,      // æ‰‹åŠ¨Mute
    AutoMute,        // Soloå¯¼è‡´çš„auto-mute
    Solo             // Soloæ¿€æ´»
};
```

**1.2 åˆ›å»ºçŠ¶æ€æœºç®¡ç†å™¨**
```cpp
class StateManager {
private:
    SystemState currentState = SystemState::Normal;
    std::map<int, ChannelState> channelStates;
    std::map<int, bool> muteMemory;  // æŒä¹…åŒ–Muteè®°å¿†
    
public:
    // çŠ¶æ€è½¬æ¢å‡½æ•°
    void transitionTo(SystemState newState);
    void handleSoloButtonClick();
    void handleMuteButtonClick();
    void handleChannelClick(int channelIndex);
    
    // çŠ¶æ€æŸ¥è¯¢å‡½æ•°
    SystemState getCurrentState() const;
    bool shouldSoloButtonBeActive() const;
    bool shouldMuteButtonBeActive() const;
    bool shouldChannelResponseToSolo() const;
};
```

**1.3 ç§»é™¤æ—§çš„å¼±å°é€»è¾‘**
- åˆ é™¤ `checkSoloStateChange()` å‡½æ•°
- åˆ é™¤ `preSoloSnapshot` æœºåˆ¶
- åˆ é™¤åˆ†æ•£çš„çŠ¶æ€ç®¡ç†ä»£ç 

#### **Step 2: çŠ¶æ€æœºäº¤äº’é€»è¾‘å®ç°** (é¢„è®¡5å°æ—¶)

**2.1 ä¸»æŒ‰é’®äº¤äº’é€»è¾‘ï¼ˆæ ¸å¿ƒè§‚ç‚¹1,3ï¼‰**
```cpp
void StateManager::handleSoloButtonClick() {
    switch (currentState) {
        case SystemState::Normal:
            transitionTo(SystemState::SoloSelecting);
            break;
            
        case SystemState::SoloSelecting:
            transitionTo(SystemState::Normal);  // é€€å‡ºé€‰æ‹©
            break;
            
        case SystemState::MuteSelecting:
            transitionTo(SystemState::SoloSelecting);  // åˆ‡æ¢é€‰æ‹©æ¨¡å¼
            break;
            
        case SystemState::SoloActive:
        case SystemState::SoloMuteActive:
            // å…¨æ¸…é™¤ï¼šæ¸…é™¤æ‰€æœ‰SoloçŠ¶æ€ï¼Œæ¢å¤åˆ°Normal
            clearAllSoloStates();
            restoreMuteMemoryIfExists();
            transitionTo(SystemState::Normal);
            break;
            
        case SystemState::MuteActive:
            // ä¿å­˜å½“å‰Muteä¸ºè®°å¿†ï¼Œè¿›å…¥Soloé€‰æ‹©
            saveMuteMemory();
            transitionTo(SystemState::SoloSelecting);
            break;
    }
}

void StateManager::handleMuteButtonClick() {
    switch (currentState) {
        case SystemState::SoloMuteActive:
            // Soloä¼˜å…ˆï¼šMuteæŒ‰é’®æ— æ•ˆï¼ˆæ ¸å¿ƒè§‚ç‚¹2ï¼‰
            return; 
            
        case SystemState::SoloActive:
            // Soloä¼˜å…ˆï¼šä¿å­˜è®°å¿†ï¼Œä½†ä¸æ‰§è¡ŒMuteæ“ä½œ
            return;
            
        case SystemState::Normal:
            transitionTo(SystemState::MuteSelecting);
            break;
            
        case SystemState::MuteSelecting:
            transitionTo(SystemState::Normal);
            break;
            
        case SystemState::SoloSelecting:
            transitionTo(SystemState::MuteSelecting);
            break;
            
        case SystemState::MuteActive:
            // å…¨æ¸…é™¤æ‰€æœ‰MuteçŠ¶æ€
            clearAllMuteStates();
            transitionTo(SystemState::Normal);
            break;
    }
}
```

**2.2 é€šé“æŒ‰é’®äº¤äº’é€»è¾‘ï¼ˆæ ¸å¿ƒè§‚ç‚¹4,5ï¼‰**
```cpp
void StateManager::handleChannelClick(int channelIndex) {
    switch (currentState) {
        case SystemState::Normal:
            // æ— é€‰æ‹©çŠ¶æ€ä¸‹é€šé“ç‚¹å‡»æ— æ•ˆ
            return;
            
        case SystemState::SoloSelecting:
            // æ‰§è¡ŒSoloæ“ä½œ
            setChannelState(channelIndex, ChannelState::Solo);
            applyAutoMuteToOthers(channelIndex);
            transitionTo(SystemState::SoloMuteActive);
            break;
            
        case SystemState::MuteSelecting:
            // æ‰§è¡ŒMuteæ“ä½œ
            toggleChannelMute(channelIndex);
            updateSystemStateBasedOnMutes();
            break;
            
        case SystemState::SoloActive:
        case SystemState::SoloMuteActive:
            // SoloçŠ¶æ€ä¸‹çš„é€šé“æ“ä½œï¼šæ·»åŠ /ç§»é™¤Solo
            if (isChannelSolo(channelIndex)) {
                removeChannelSolo(channelIndex);
                // æ ¸å¿ƒè§‚ç‚¹4ï¼šå¦‚æœè¿˜æœ‰å…¶ä»–Soloé€šé“ï¼Œä¿æŒSoloActive
                // å¦‚æœæ²¡æœ‰Soloé€šé“äº†ï¼Œå›åˆ°SoloSelecting
                if (hasAnySoloChannels()) {
                    // ä¿æŒå½“å‰çŠ¶æ€ï¼Œé‡æ–°è®¡ç®—auto-mute
                    recalculateAutoMutes();
                } else {
                    transitionTo(SystemState::SoloSelecting);
                }
            } else {
                addChannelSolo(channelIndex);
                recalculateAutoMutes();
            }
            break;
            
        case SystemState::MuteActive:
            // MuteçŠ¶æ€ä¸‹çš„é€šé“æ“ä½œ
            toggleChannelMute(channelIndex);
            if (!hasAnyMuteChannels()) {
                transitionTo(SystemState::MuteSelecting);
            }
            break;
    }
}
```

#### **Step 3: æŒä¹…åŒ–è®°å¿†æœºåˆ¶ï¼ˆæ ¸å¿ƒè§‚ç‚¹6ï¼‰** (é¢„è®¡3å°æ—¶)

**3.1 Muteè®°å¿†å­˜å‚¨**
```cpp
class MuteMemoryManager {
private:
    std::map<int, bool> persistentMuteMemory;
    juce::File memoryFile;
    
public:
    void saveMuteMemory(const std::map<int, ChannelState>& currentStates);
    void restoreMuteMemory(std::map<int, ChannelState>& channelStates);
    void clearMuteMemory();
    
    // æŒä¹…åŒ–åˆ°æ–‡ä»¶ï¼ˆè·¨ä¼šè¯ä¿å­˜ï¼‰
    void saveToFile();
    void loadFromFile();
};
```

**3.2 çŠ¶æ€è½¬æ¢è®°å¿†é€»è¾‘**
- MuteActive â†’ SoloSelecting: ä¿å­˜Muteè®°å¿†
- SoloMuteActive â†’ Normal: æ¢å¤Muteè®°å¿†
- è·¨æ’ä»¶é‡è½½çš„è®°å¿†ä¿æŒ

#### **Step 4: UIåŒæ­¥å’Œæ˜¾ç¤ºé€»è¾‘** (é¢„è®¡2å°æ—¶)

**4.1 æŒ‰é’®å¤–è§‚çŠ¶æ€æ˜ å°„**
```cpp
// UIæ›´æ–°é€»è¾‘ï¼šç›´æ¥æ˜ å°„çŠ¶æ€æœºçŠ¶æ€åˆ°æŒ‰é’®å¤–è§‚
void updateButtonAppearance() {
    bool soloButtonActive = (currentState == SystemState::SoloSelecting || 
                            currentState == SystemState::SoloActive ||
                            currentState == SystemState::SoloMuteActive);
                            
    bool muteButtonActive = (currentState == SystemState::MuteSelecting ||
                            currentState == SystemState::MuteActive ||
                            currentState == SystemState::SoloMuteActive);
                            
    globalSoloButton.setToggleState(soloButtonActive, dontSendNotification);
    globalMuteButton.setToggleState(muteButtonActive, dontSendNotification);
}
```

**4.2 é€šé“æŒ‰é’®æ˜¾ç¤º**
- Soloé€šé“ï¼šç»¿è‰²æ¿€æ´»
- æ‰‹åŠ¨Muteé€šé“ï¼šçº¢è‰²æ¿€æ´»
- Auto-Muteé€šé“ï¼šæš—çº¢è‰²æ¿€æ´»
- æ­£å¸¸é€šé“ï¼šé»˜è®¤é¢œè‰²

#### **Step 5: é›†æˆæµ‹è¯•å’ŒéªŒè¯** (é¢„è®¡2å°æ—¶)

**5.1 æ ¸å¿ƒè§‚ç‚¹éªŒè¯æµ‹è¯•**

**æµ‹è¯•1ï¼šæŒ‰é’®æ¿€æ´» = é€‰æ‹©çŠ¶æ€ï¼ˆè§‚ç‚¹1ï¼‰**
```
æ“ä½œï¼šç‚¹å‡»SoloæŒ‰é’®
é¢„æœŸï¼šSoloæŒ‰é’®äº®èµ·ï¼Œè¿›å…¥SoloSelectingçŠ¶æ€
éªŒè¯ï¼šæŒ‰é’®å¤–è§‚ä¸å†…éƒ¨çŠ¶æ€å®Œå…¨ä¸€è‡´
```

**æµ‹è¯•2ï¼šSoloä¼˜å…ˆçº§ï¼ˆè§‚ç‚¹2ï¼‰**
```
æ“ä½œï¼šSolo R â†’ å…¶ä»–é€šé“auto-mute â†’ æ­¤æ—¶Soloå’ŒMuteæŒ‰é’®éƒ½äº®
æ“ä½œï¼šç‚¹å‡»ä»»æ„é€šé“
é¢„æœŸï¼šæ‰§è¡ŒSoloæ“ä½œè€ŒéMuteæ“ä½œ
éªŒè¯ï¼šSoloä¼˜å…ˆçº§æ­£ç¡®å·¥ä½œ
```

**æµ‹è¯•3ï¼šä¸»æŒ‰é’®å…¨æ¸…é™¤ï¼ˆè§‚ç‚¹3ï¼‰**
```
æ“ä½œï¼šåœ¨ä»»ä½•æ¿€æ´»çŠ¶æ€ä¸‹ç‚¹å‡»ä¸»æŒ‰é’®
é¢„æœŸï¼šæ¸…é™¤æ‰€æœ‰çŠ¶æ€ï¼Œå›åˆ°Normal
éªŒè¯ï¼šä¸€é”®é‡ç½®åŠŸèƒ½æ­£ç¡®
```

**æµ‹è¯•4-5ï¼šé€šé“å–æ¶ˆå›åˆ°é€‰æ‹©ï¼ˆè§‚ç‚¹4,5ï¼‰**
```
æ“ä½œï¼šSolo R â†’ å†æ¬¡ç‚¹å‡»Ré€šé“
é¢„æœŸï¼šå–æ¶ˆRçš„Soloï¼Œå›åˆ°SoloSelectingçŠ¶æ€ï¼ˆä¸é€€å‡ºSoloæ¨¡å¼ï¼‰
éªŒè¯ï¼šä¿æŒé€‰æ‹©æ¨¡å¼ä¸æ„å¤–é€€å‡º
```

**æµ‹è¯•6ï¼šMuteæŒä¹…è®°å¿†ï¼ˆè§‚ç‚¹6ï¼‰**
```
æ“ä½œï¼šMute L â†’ ç‚¹å‡»SoloæŒ‰é’® â†’ Solo R â†’ å–æ¶ˆæ‰€æœ‰Solo
é¢„æœŸï¼šè‡ªåŠ¨æ¢å¤åˆ°Mute LçŠ¶æ€
éªŒè¯ï¼šè®°å¿†æœºåˆ¶è·¨æ“ä½œä¿æŒ
```

**5.2 è¾¹ç•Œæƒ…å†µæµ‹è¯•**
- å¿«é€Ÿè¿ç»­ç‚¹å‡»
- æ‰€æœ‰çŠ¶æ€è½¬æ¢ç»„åˆ
- æ’ä»¶é‡è½½åè®°å¿†ä¿æŒ
- å¤šé€šé“å¤æ‚ç»„åˆæ“ä½œ

### **ğŸ¯ å®æ–½è®¡åˆ’æ—¶é—´è¡¨**

| æ­¥éª¤ | ä»»åŠ¡ | é¢„è®¡æ—¶é—´ | ä¼˜å…ˆçº§ | å…³é”®æˆæœ |
|------|------|----------|--------|----------|
| 1 | å…¨æ–°çŠ¶æ€æœºåŸºç¡€æ¶æ„ | 4å°æ—¶ | ğŸ”´ æœ€é«˜ | StateManagerç±»å®Œæˆ |
| 2 | çŠ¶æ€æœºäº¤äº’é€»è¾‘å®ç° | 5å°æ—¶ | ğŸ”´ æœ€é«˜ | 6å¤§è§‚ç‚¹å®Œæ•´å®ç° |
| 3 | æŒä¹…åŒ–è®°å¿†æœºåˆ¶ | 3å°æ—¶ | ğŸŸ¡ é«˜ | Muteè®°å¿†åŠŸèƒ½ |
| 4 | UIåŒæ­¥å’Œæ˜¾ç¤ºé€»è¾‘ | 2å°æ—¶ | ğŸŸ¡ é«˜ | æŒ‰é’®çŠ¶æ€å®Œå…¨åŒæ­¥ |
| 5 | é›†æˆæµ‹è¯•å’ŒéªŒè¯ | 2å°æ—¶ | ğŸŸ¢ ä¸­ | å…¨é¢åŠŸèƒ½éªŒè¯ |

**æ€»è®¡ï¼š** çº¦16å°æ—¶çš„é‡æ„å·¥ä½œ

### **ğŸ—ï¸ æ¶æ„ä¼˜åŠ¿å¯¹æ¯”**

**æ—§æ¶æ„ï¼ˆå¼±å°æ–¹æ¡ˆï¼‰ï¼š**
- âŒ åˆ†æ•£çš„çŠ¶æ€ç®¡ç†
- âŒ ä¸ä¸€è‡´çš„ä¼˜å…ˆçº§é€»è¾‘
- âŒ ç¼ºä¹ç»Ÿä¸€çš„çŠ¶æ€è½¬æ¢
- âŒ æ¦‚ç‡æ€§bugå’ŒçŠ¶æ€æ··ä¹±
- âŒ æ— è®°å¿†æœºåˆ¶

**æ–°æ¶æ„ï¼ˆå¼ºå¤§çŠ¶æ€æœºï¼‰ï¼š**
- âœ… ç»Ÿä¸€çš„çŠ¶æ€æœºæ§åˆ¶
- âœ… æ˜ç¡®çš„ä¼˜å…ˆçº§ä½“ç³»
- âœ… å®Œæ•´çš„çŠ¶æ€è½¬æ¢é€»è¾‘
- âœ… å¯é¢„æµ‹çš„è¡Œä¸ºæ¨¡å¼
- âœ… æŒä¹…åŒ–è®°å¿†æœºåˆ¶
- âœ… å®Œç¾çš„æŒ‰é’®çŠ¶æ€åŒæ­¥

### **ğŸš€ å…³é”®æˆåŠŸå› ç´ **

**1. å½»åº•æŠ›å¼ƒæ—§é€»è¾‘**
- å®Œå…¨åˆ é™¤å½“å‰çš„å¼±å°çŠ¶æ€ç®¡ç†ä»£ç 
- ä¸è¿›è¡Œæ¸è¿›å¼ä¿®æ”¹ï¼Œè€Œæ˜¯å½»åº•é‡å»º

**2. ä¸¥æ ¼éµå¾ª6å¤§è§‚ç‚¹**
- æ¯ä¸ªè§‚ç‚¹éƒ½æœ‰å¯¹åº”çš„ä»£ç å®ç°
- çŠ¶æ€è½¬æ¢é€»è¾‘å®Œå…¨åŸºäºè§‚ç‚¹è®¾è®¡

**3. ç»Ÿä¸€çš„çŠ¶æ€ç®¡ç†**
- æ‰€æœ‰çŠ¶æ€å˜åŒ–éƒ½é€šè¿‡StateManager
- æœç»åˆ†æ•£çš„çŠ¶æ€ä¿®æ”¹

**4. å®Œå–„çš„æµ‹è¯•éªŒè¯**
- æ¯ä¸ªè§‚ç‚¹éƒ½æœ‰ä¸“é—¨çš„æµ‹è¯•ç”¨ä¾‹
- è¦†ç›–æ‰€æœ‰çŠ¶æ€è½¬æ¢è·¯å¾„

### **ğŸ—‚ï¸ å…³é”®æ–‡ä»¶ä¿®æ”¹æ¸…å•**

**å®Œå…¨é‡å†™çš„æ–‡ä»¶:**
1. **PluginProcessor.h** - æ·»åŠ StateManagerç±»å’Œæ–°æšä¸¾
2. **PluginProcessor.cpp** - åˆ é™¤æ—§é€»è¾‘ï¼Œå®ç°StateManager
3. **PluginEditor.cpp** - é‡å†™æ‰€æœ‰æŒ‰é’®onClické€»è¾‘

**æ–°å¢æ–‡ä»¶:**
4. **StateManager.h** - çŠ¶æ€æœºç±»å®šä¹‰
5. **StateManager.cpp** - çŠ¶æ€æœºæ ¸å¿ƒé€»è¾‘å®ç°
6. **MuteMemoryManager.h** - è®°å¿†ç®¡ç†ç±»

**åˆ é™¤çš„æ—§ä»£ç :**
- `checkSoloStateChange()` å‡½æ•°
- `preSoloSnapshot` æœºåˆ¶
- æ‰€æœ‰åˆ†æ•£çš„çŠ¶æ€ç®¡ç†ä»£ç 
- `UIMode` æšä¸¾ï¼ˆæ›¿æ¢ä¸ºSystemStateï¼‰

### **ğŸ¯ éªŒæ”¶æ ‡å‡†**

**âœ… æ ¸å¿ƒè§‚ç‚¹éªŒæ”¶ï¼š**
- è§‚ç‚¹1: æŒ‰é’®å¤–è§‚100%åæ˜ é€‰æ‹©çŠ¶æ€
- è§‚ç‚¹2: Solo+MuteåŒæ¿€æ´»æ—¶Soloä¼˜å…ˆçº§ç¡®è®¤
- è§‚ç‚¹3: ä¸»æŒ‰é’®ä¸€é”®å…¨æ¸…é™¤åŠŸèƒ½
- è§‚ç‚¹4-5: é€šé“å–æ¶ˆæ­£ç¡®å›åˆ°é€‰æ‹©çŠ¶æ€
- è§‚ç‚¹6: Muteè®°å¿†è·¨æ“ä½œä¿æŒ

**âœ… Bugæ¶ˆé™¤éªŒæ”¶ï¼š**
- Solo R â†’ ç‚¹å‡»R â†’ æ— æ®‹ç•™auto-mute
- æ‰€æœ‰æ¦‚ç‡æ€§bugå®Œå…¨æ¶ˆå¤±
- çŠ¶æ€è½¬æ¢100%å¯é¢„æµ‹

**âœ… æ¶æ„è´¨é‡éªŒæ”¶ï¼š**
- ç»Ÿä¸€çš„çŠ¶æ€æœºæ§åˆ¶æ‰€æœ‰çŠ¶æ€å˜åŒ–
- é›¶åˆ†æ•£çŠ¶æ€ç®¡ç†ä»£ç 
- å®Œæ•´çš„çŠ¶æ€è½¬æ¢è¦†ç›–
- æ¸…æ™°çš„ä»£ç ç»“æ„å’Œæ³¨é‡Š

**âœ… ç”¨æˆ·ä½“éªŒéªŒæ”¶ï¼š**
- æŒ‰é’®è¡Œä¸ºå®Œå…¨ç¬¦åˆç›´è§‰
- å¿«é€Ÿæ“ä½œæ— çŠ¶æ€æ··ä¹±
- æŒä¹…è®°å¿†åŠŸèƒ½å¯é å·¥ä½œ
- è·¨æ’ä»¶é‡è½½çŠ¶æ€ä¿æŒ

---

## ğŸ¯ **Stage 2 å¼€å‘è®¡åˆ’**

### **æ ¸å¿ƒç›®æ ‡ï¼šä¸»ä»æ¨¡å¼å®ç°**

#### **æŠ€æœ¯è¦æ±‚**
1. **æ’ä»¶é—´é€šä¿¡ç³»ç»Ÿ**
   - ä½¿ç”¨`juce::InterprocessConnection`å®ç°ç‚¹å¯¹ç‚¹é€šä¿¡
   - å®ç°è‡ªåŠ¨å‘ç°å’Œé…å¯¹æœºåˆ¶
   - è®¾è®¡è½»é‡çº§çŠ¶æ€åŒæ­¥åè®®

2. **è§’è‰²ç®¡ç†ç³»ç»Ÿ**
   ```cpp
   enum Role {
       standalone,  // ç‹¬ç«‹æ¨¡å¼
       master,      // ä¸»æ’ä»¶ï¼ˆæ¥æ”¶ç”¨æˆ·è¾“å…¥ï¼Œå®Œæ•´å¤„ç†ï¼‰
       slave        // ä»æ’ä»¶ï¼ˆUIé”å®šï¼Œä»…é€šæ–­å¤„ç†ï¼‰
   };
   ```

3. **UIè¿æ¥é€»è¾‘**
   - æ·»åŠ "è¿æ¥(Link)"æŒ‰é’®
   - å®ç°è§’è‰²ç¡®ç«‹çš„æ¡æ‰‹æœºåˆ¶
   - ä»æ’ä»¶UIè‡ªåŠ¨é”å®šï¼ˆå˜ç°ä¸å¯æ“ä½œï¼‰

4. **åŒé‡éŸ³é¢‘å¤„ç†**
   - ä»æ’ä»¶ï¼šä»…æ‰§è¡Œé€šæ–­å¤„ç†ï¼Œè·³è¿‡å¢ç›Šå¤„ç†
   - ä¸»æ’ä»¶ï¼šæ‰§è¡Œå®Œæ•´å¤„ç†ï¼ˆé€šæ–­+å¢ç›Šï¼‰

#### **å®ç°æ­¥éª¤**
1. **Step 1ï¼šé€šä¿¡åŸºç¡€æ¶æ„** - å®Œå–„`InterPluginCommunicator`ç±»
2. **Step 2ï¼šè§’è‰²ç®¡ç†ä¸UI** - æ·»åŠ è¿æ¥æŒ‰é’®å’ŒçŠ¶æ€æŒ‡ç¤º
3. **Step 3ï¼šçŠ¶æ€åŒæ­¥** - å®ç°å®æ—¶çŠ¶æ€åŒæ­¥
4. **Step 4ï¼šéŸ³é¢‘å¤„ç†åˆ†ç¦»** - ä¿®æ”¹`processBlock`æ”¯æŒè§’è‰²é©±åŠ¨
5. **Step 5ï¼šé›†æˆæµ‹è¯•** - åœ¨çœŸå®æ ¡å‡†è½¯ä»¶ç¯å¢ƒä¸­æµ‹è¯•

---

## ğŸ‘¥ **å›¢é˜Ÿäº¤æ¥æŒ‡å—**

### **å¼€å‘ç¯å¢ƒå¿«é€Ÿè®¾ç½®**
1. **Visual Studio 2022** - C++æ¡Œé¢å¼€å‘å·¥ä½œè´Ÿè½½
2. **é¡¹ç›®è·¯å¾„** - ç¡®ä¿ä¸åŒ…å«ä¸­æ–‡å­—ç¬¦
3. **ç¼–è¯‘å‘½ä»¤** - ä½¿ç”¨`build_debug.bat`æˆ–`build_release.bat`

### **ä»£ç å¯¼èˆªæŒ‡å—**

#### **ç†è§£Soloé€»è¾‘èµ·ç‚¹**
1. **UIå±‚ï¼š** `PluginEditor.cpp:handleSoloButtonClick()` - SoloæŒ‰é’®ç‚¹å‡»å¤„ç†
2. **é€»è¾‘å±‚ï¼š** `PluginProcessor.cpp:checkSoloStateChange()` - çŠ¶æ€å˜åŒ–æ£€æµ‹
3. **æ•°æ®å±‚ï¼š** `PluginProcessor.h` - çŠ¶æ€ç®¡ç†æ•°æ®ç»“æ„

#### **å…³é”®æ–‡ä»¶ä½ç½®**
- **æ ¸å¿ƒé€»è¾‘ï¼š** `Source/PluginProcessor.h/cpp`
- **UIç•Œé¢ï¼š** `Source/PluginEditor.h/cpp`
- **é…ç½®ç®¡ç†ï¼š** `Source/ConfigManager.h/cpp`
- **å¸ƒå±€é…ç½®ï¼š** `Config/Speaker_Config.json`

### **è°ƒè¯•æŠ€å·§**
```cpp
// ä½¿ç”¨DBGè¿›è¡ŒçŠ¶æ€è¿½è¸ª
DBG("Solo state changed: " << (currentSoloActive ? "active" : "inactive"));

// åœ¨å…³é”®å‡½æ•°ä¸­æ·»åŠ çŠ¶æ€æ—¥å¿—
DBG("Channel " << channelIndex << " solo state: " << isSoloed);
```

### **æµ‹è¯•å»ºè®®**
1. **Standaloneæ¨¡å¼ï¼š** å¿«é€ŸUIé€»è¾‘æµ‹è¯•
2. **REAPERé›†æˆï¼š** I/Oå‘½åå’ŒçŠ¶æ€ç®¡ç†éªŒè¯
3. **å¤šåœºæ™¯æµ‹è¯•ï¼š** å„ç§Solo/Muteæ“ä½œç»„åˆ

---

## ğŸ“Š **é¡¹ç›®è´¨é‡æŒ‡æ ‡**

### **ä»£ç è´¨é‡ âœ…**
- **ç¼–è¯‘çŠ¶æ€ï¼š** æ— é”™è¯¯ç¼–è¯‘
- **è­¦å‘Šç­‰çº§ï¼š** ä»…æœ‰å¯å¿½ç•¥çš„Unicodeå’Œæœªä½¿ç”¨å‚æ•°è­¦å‘Š
- **å…¼å®¹æ€§ï¼š** C++11/14è¯­æ³•ï¼Œå¹¿æ³›ç¼–è¯‘å™¨æ”¯æŒ
- **æ¶æ„è®¾è®¡ï¼š** æ¸…æ™°çš„ç±»ç»“æ„å’ŒèŒè´£åˆ†ç¦»

### **åŠŸèƒ½å®Œæ•´æ€§ âœ…**
- **Soloé€»è¾‘ï¼š** 100%ç¨³å®šï¼Œæ‰€æœ‰è¾¹ç•Œæƒ…å†µæµ‹è¯•é€šè¿‡
- **Muteé€»è¾‘ï¼š** 100%ç‹¬ç«‹ï¼Œä¸Soloæ— å¹²æ‰°
- **I/Oå‘½åï¼š** 100%åŠ¨æ€ï¼Œæ”¯æŒæ‰€æœ‰æ ‡å‡†å¸ƒå±€
- **UIå“åº”ï¼š** 100%å®æ—¶ï¼Œæ— å»¶è¿Ÿæˆ–ä¸åŒæ­¥

### **ç”¨æˆ·ä½“éªŒ âœ…**
- **æ“ä½œç›´è§‚ï¼š** å·¥å…·é€‰æ‹©æ¨¡å¼ç¬¦åˆç”¨æˆ·é¢„æœŸ
- **çŠ¶æ€æ¸…æ™°ï¼š** é¢œè‰²ç¼–ç çš„å³æ—¶è§†è§‰åé¦ˆ
- **é…ç½®ç®€å•ï¼š** è‡ªåŠ¨å¸ƒå±€é€‰æ‹©å‡å°‘ç”¨æˆ·è´Ÿæ‹…
- **æ¢å¤å®Œæ•´ï¼š** ç”¨æˆ·æ‰‹åŠ¨é…ç½®æ°¸ä¸ä¸¢å¤±

---

## ğŸš€ **äº¤æ¥å®Œæˆæ¸…å•**

### **âœ… å·²å®Œæˆäº¤æ¥å†…å®¹**
1. **åŠŸèƒ½æ–‡æ¡£ï¼š** å®Œæ•´çš„Stage 1å®ç°è¯´æ˜
2. **æŠ€æœ¯æ–‡æ¡£ï¼š** è¯¦ç»†çš„æ¶æ„å’Œå®ç°ç»†èŠ‚
3. **æµ‹è¯•æ–‡æ¡£ï¼š** å…¨é¢çš„æµ‹è¯•éªŒè¯è®°å½•
4. **å¼€å‘æ–‡æ¡£ï¼š** Stage 2è®¡åˆ’å’Œå®ç°æŒ‡å—
5. **ä»£ç è´¨é‡ï¼š** ç¨³å®šå¯é çš„ä»£ç åŸºç¡€

### **ğŸ¯ æ–°å›¢é˜Ÿæˆå‘˜ä¸‹ä¸€æ­¥è¡ŒåŠ¨**
1. **ä»£ç ç†Ÿæ‚‰ï¼š** é˜…è¯»æ ¸å¿ƒæ–‡ä»¶ï¼Œç†è§£SoloçŠ¶æ€ç®¡ç†é€»è¾‘
2. **ç¯å¢ƒéªŒè¯ï¼š** ç¼–è¯‘å¹¶æµ‹è¯•Stage 1çš„æ‰€æœ‰åŠŸèƒ½
3. **Stage 2å¯åŠ¨ï¼š** æ ¹æ®è®¡åˆ’å¼€å§‹ä¸»ä»æ¨¡å¼å¼€å‘
4. **æŒç»­é›†æˆï¼š** ä¿æŒå½“å‰çš„å¼€å‘å’Œæµ‹è¯•æ ‡å‡†

---

**æ€»ç»“ï¼š** Stage 1å¼€å‘åœ†æ»¡å®Œæˆï¼Œæ‰€æœ‰æ ¸å¿ƒåŠŸèƒ½ç¨³å®šè¿è¡Œã€‚é¡¹ç›®æ¶æ„æ¸…æ™°ï¼Œä»£ç è´¨é‡ä¼˜ç§€ï¼Œä¸ºStage 2çš„ä¸»ä»æ¨¡å¼å¼€å‘å¥ å®šäº†åšå®åŸºç¡€ã€‚æ–°å›¢é˜Ÿæˆå‘˜å¯ä»¥ç«‹å³åŸºäºå½“å‰æˆæœå¼€å§‹åç»­å¼€å‘å·¥ä½œã€‚