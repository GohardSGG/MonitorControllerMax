# 6. 开发路线图 (Roadmap) - 重大修订

本路线图以**里程碑**为导向。

---

## ✅ 阶段一：GUI 基础设施构建与样式定稿 (已完成)

**已交付成果**:
- 1. **基础设施**：`wgpu` 后端，DPI 缩放 (`set_scale_factor_override`)。
- 2. **视觉风格**：Brutalist 组件库，响应式布局。
- 3. **复杂布局**：Header, Sidebar, Matrix, Log Panel。
- 4. **构建流程**：`xtask` 修复。

---

## ➡️ 阶段二：核心逻辑与网络层实现 (当前阶段)

**目标**: 实现 v4.0 规范的核心逻辑，并打通基于 ZMQ 的分布式通信。

**核心任务**:
- [ ] **Params 定义**: 在 `lib.rs` 中完整定义 18ch 参数结构。
- [ ] **Logic 实现**: 编写 `ChannelLogic`，实现 A/B 对比、混合 Solo、SUB 豁免等所有 v4.0 规则。
- [ ] **网络层开发**: 集成 `zeromq` 和 `bincode`，实现 PUB/SUB 广播机制。
- [ ] **Slave 状态机**: 实现 Slave 的无锁缓存读取和状态保持逻辑。
- [ ] **Master-Slave 联调**: 验证跨进程/跨机状态同步。

**验收标准 (里程碑 M1 - Connected Logic)**:
- 可以在一台电脑上运行 Master，另一台运行 Slave。
- 操作 Master GUI，Slave 的音频处理实时响应，且逻辑正确（如 Solo SUB 时 Slave Mute 主声道）。
- 断开网络，Slave 保持最后状态，无爆音。

---

## 🕒 阶段三：UI 功能绑定与交互实现

**目标**: 将 GUI 按钮与逻辑核心对接。

**核心任务**:
- [ ] **交互状态机**: 实现 `InteractionManager` (Idle/Active/Compare 模式切换)。
- [ ] **GUI 绑定**: 让界面按钮触发 `InteractionManager` 的动作。
- [ ] **视觉反馈**: 让界面按钮正确显示（闪烁、常亮、颜色）。

---

## 🕒 阶段四：硬件集成与性能优化

**目标**: OSC 硬件联动与性能调优。

---

## 🕒 阶段五：文档、打包与发布

**目标**: 发布 v5.0 (Rust Edition)。
