<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>JUCE: RuntimePermissions Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">JUCE
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<div id="main-nav">
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="topics.html"><span>Topics</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect" class="search-icon" onmouseover="return searchBox.OnSearchSelectShow()" onmouseout="return searchBox.OnSearchSelectHide()"><span class="search-icon-dropdown"></span></span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><div id="MSearchCloseImg" class="close-icon"></div></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- main-nav -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="classRuntimePermissions-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">RuntimePermissions Class Reference<div class="ingroups"><a class="el" href="group__juce__core.html">juce_core</a> &raquo; <a class="el" href="group__juce__core-misc.html">misc</a></div></div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-pub-types" class="groupheader"><a id="pub-types" name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:ae35d63b8c00dab34a1546fd1eef90878" id="r_ae35d63b8c00dab34a1546fd1eef90878"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae35d63b8c00dab34a1546fd1eef90878">PermissionID</a> { <br />
&#160;&#160;<a class="el" href="#ae35d63b8c00dab34a1546fd1eef90878a56b38b114bf52a5b212b87b4a5c9b535">recordAudio</a> = 1
, <a class="el" href="#ae35d63b8c00dab34a1546fd1eef90878af9db427de56e5cc282cea35e58f47959">bluetoothMidi</a> = 2
, <a class="el" href="#ae35d63b8c00dab34a1546fd1eef90878a9ff6c2449be1b1755540bce8f20dc1ce">readExternalStorage</a> = 3
, <a class="el" href="#ae35d63b8c00dab34a1546fd1eef90878a4d086e9600ef7245a13bb7dd3c6d0687">writeExternalStorage</a> = 4
, <br />
&#160;&#160;<a class="el" href="#ae35d63b8c00dab34a1546fd1eef90878afa0b39e22fde29c5810ac23f0ea5c95c">camera</a> = 5
, <a class="el" href="#ae35d63b8c00dab34a1546fd1eef90878a96674ef00e470d2eb66f313f40dc68b4">readMediaAudio</a> = 6
, <a class="el" href="#ae35d63b8c00dab34a1546fd1eef90878a05ff1662010c813052ffe27a91ef5f8b">readMediaImages</a> = 7
, <a class="el" href="#ae35d63b8c00dab34a1546fd1eef90878ac79f36db4aae986844b408370680a8fb">readMediaVideo</a> = 8
, <br />
&#160;&#160;<a class="el" href="#ae35d63b8c00dab34a1546fd1eef90878ad1becf0befc842280d9d7a23322d60cd">postNotification</a> = 9
<br />
 }</td></tr>
<tr class="memitem:ab43b3b89ad2cb7e7f41f0fe4a4a9c2a1" id="r_ab43b3b89ad2cb7e7f41f0fe4a4a9c2a1"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab43b3b89ad2cb7e7f41f0fe4a4a9c2a1">Callback</a> = std::function&lt;void (bool)&gt;</td></tr>
<tr class="memdesc:ab43b3b89ad2cb7e7f41f0fe4a4a9c2a1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function type of runtime permission request callbacks.  <br /></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-pub-static-methods" class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a9b45f4bb7ea1cc3bf5693fa2ec33b7c3" id="r_a9b45f4bb7ea1cc3bf5693fa2ec33b7c3"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9b45f4bb7ea1cc3bf5693fa2ec33b7c3">request</a> (<a class="el" href="#ae35d63b8c00dab34a1546fd1eef90878">PermissionID</a> permission, <a class="el" href="#ab43b3b89ad2cb7e7f41f0fe4a4a9c2a1">Callback</a> callback)</td></tr>
<tr class="memdesc:a9b45f4bb7ea1cc3bf5693fa2ec33b7c3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Call this method to request a runtime permission.  <br /></td></tr>
<tr class="memitem:a895f15741378bada300fbe409775d0d8" id="r_a895f15741378bada300fbe409775d0d8"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a895f15741378bada300fbe409775d0d8">isRequired</a> (<a class="el" href="#ae35d63b8c00dab34a1546fd1eef90878">PermissionID</a> permission)</td></tr>
<tr class="memdesc:a895f15741378bada300fbe409775d0d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns whether a runtime request is required to obtain the permission on the current platform.  <br /></td></tr>
<tr class="memitem:a88697ee964654de2fea2eac5ed048979" id="r_a88697ee964654de2fea2eac5ed048979"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a88697ee964654de2fea2eac5ed048979">isGranted</a> (<a class="el" href="#ae35d63b8c00dab34a1546fd1eef90878">PermissionID</a> permission)</td></tr>
<tr class="memdesc:a88697ee964654de2fea2eac5ed048979"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the app has been already granted this permission, either via a previous runtime request or otherwise, or no permission is necessary.  <br /></td></tr>
</table>
<a name="details" id="details"></a><h2 id="header-details" class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">Class to handle app runtime permissions for certain functionality on some platforms.

The use of this class is currently only required if the app should run on
Android API level 23 and higher.

On lower API levels, the permissions are specified in the app manifest. On iOS,
runtime permission requests are handled automatically by the Apple APIs and not
manually in the app code. On Windows, OS X, and Linux, runtime permissions are not
used at all. In all these cases, request() will simply call through to the
callback with no overhead and pass true (making it safe to use on all platforms).

For example, to enable audio recording on Android in your cross-platform app,
you could modify your code as follows:

Old code:

    audioDeviceManager.initialise (2, 2, nullptr, true, String(), nullptr);

New code:

    RuntimePermissions::request (
        RuntimePermissions::recordAudio,
        [this] (bool wasGranted)
        {
             if (! wasGranted)
             {
</pre><p> e.g. display an error or initialise with 0 input channels return; }</p>
<p>audioDeviceManager.initialise (2, 2, nullptr, true, <a class="el" href="classString.html" title="The JUCE String class!">String()</a>, nullptr); } ); </p>
</div><a name="doc-typedef-members" id="doc-typedef-members"></a><h2 id="header-doc-typedef-members" class="groupheader">Member Typedef Documentation</h2>
<a id="ab43b3b89ad2cb7e7f41f0fe4a4a9c2a1" name="ab43b3b89ad2cb7e7f41f0fe4a4a9c2a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab43b3b89ad2cb7e7f41f0fe4a4a9c2a1">&#9670;&#160;</a></span>Callback</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="#ab43b3b89ad2cb7e7f41f0fe4a4a9c2a1">RuntimePermissions::Callback</a> = std::function&lt;void (bool)&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function type of runtime permission request callbacks. </p>

</div>
</div>
<a name="doc-enum-members" id="doc-enum-members"></a><h2 id="header-doc-enum-members" class="groupheader">Member Enumeration Documentation</h2>
<a id="ae35d63b8c00dab34a1546fd1eef90878" name="ae35d63b8c00dab34a1546fd1eef90878"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae35d63b8c00dab34a1546fd1eef90878">&#9670;&#160;</a></span>PermissionID</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="#ae35d63b8c00dab34a1546fd1eef90878">RuntimePermissions::PermissionID</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ae35d63b8c00dab34a1546fd1eef90878a56b38b114bf52a5b212b87b4a5c9b535" name="ae35d63b8c00dab34a1546fd1eef90878a56b38b114bf52a5b212b87b4a5c9b535"></a>recordAudio&#160;</td><td class="fielddoc"><p>Permission to access the microphone (required on Android). </p>
<p>You need to request this, for example, to initialise an <a class="el" href="classAudioDeviceManager.html" title="Manages the state of some audio and midi i/o devices.">AudioDeviceManager</a> with a non-zero number of input channels, and to open the default audio input device. </p>
</td></tr>
<tr><td class="fieldname"><a id="ae35d63b8c00dab34a1546fd1eef90878af9db427de56e5cc282cea35e58f47959" name="ae35d63b8c00dab34a1546fd1eef90878af9db427de56e5cc282cea35e58f47959"></a>bluetoothMidi&#160;</td><td class="fielddoc"><p>Permission to scan for and pair to Bluetooth MIDI devices (required on Android). </p>
<p>You need to request this before calling <a class="el" href="classBluetoothMidiDevicePairingDialogue.html#a5096096a87ec995c3d437e3c4a95560e" title="Opens the Bluetooth MIDI pairing dialogue, if it is available.">BluetoothMidiDevicePairingDialogue::open()</a>, otherwise no devices will be found. </p>
</td></tr>
<tr><td class="fieldname"><a id="ae35d63b8c00dab34a1546fd1eef90878a9ff6c2449be1b1755540bce8f20dc1ce" name="ae35d63b8c00dab34a1546fd1eef90878a9ff6c2449be1b1755540bce8f20dc1ce"></a>readExternalStorage&#160;</td><td class="fielddoc"><p>Permission to read from external storage such as SD cards. </p>
</td></tr>
<tr><td class="fieldname"><a id="ae35d63b8c00dab34a1546fd1eef90878a4d086e9600ef7245a13bb7dd3c6d0687" name="ae35d63b8c00dab34a1546fd1eef90878a4d086e9600ef7245a13bb7dd3c6d0687"></a>writeExternalStorage&#160;</td><td class="fielddoc"><p>Permission to write to external storage such as SD cards. </p>
</td></tr>
<tr><td class="fieldname"><a id="ae35d63b8c00dab34a1546fd1eef90878afa0b39e22fde29c5810ac23f0ea5c95c" name="ae35d63b8c00dab34a1546fd1eef90878afa0b39e22fde29c5810ac23f0ea5c95c"></a>camera&#160;</td><td class="fielddoc"><p>Permission to use camera. </p>
</td></tr>
<tr><td class="fieldname"><a id="ae35d63b8c00dab34a1546fd1eef90878a96674ef00e470d2eb66f313f40dc68b4" name="ae35d63b8c00dab34a1546fd1eef90878a96674ef00e470d2eb66f313f40dc68b4"></a>readMediaAudio&#160;</td><td class="fielddoc"><p>Permission to read audio files that your app didn't create. </p>
<p>Has the same effect as readExternalStorage on iOS and Android versions before 33. </p>
</td></tr>
<tr><td class="fieldname"><a id="ae35d63b8c00dab34a1546fd1eef90878a05ff1662010c813052ffe27a91ef5f8b" name="ae35d63b8c00dab34a1546fd1eef90878a05ff1662010c813052ffe27a91ef5f8b"></a>readMediaImages&#160;</td><td class="fielddoc"><p>Permission to read image files that your app didn't create. </p>
<p>Has the same effect as readExternalStorage on iOS and Android versions before 33. </p>
</td></tr>
<tr><td class="fieldname"><a id="ae35d63b8c00dab34a1546fd1eef90878ac79f36db4aae986844b408370680a8fb" name="ae35d63b8c00dab34a1546fd1eef90878ac79f36db4aae986844b408370680a8fb"></a>readMediaVideo&#160;</td><td class="fielddoc"><p>Permission to read video files that your app didn't create. </p>
<p>Has the same effect as readExternalStorage on iOS and Android versions before 33. </p>
</td></tr>
<tr><td class="fieldname"><a id="ae35d63b8c00dab34a1546fd1eef90878ad1becf0befc842280d9d7a23322d60cd" name="ae35d63b8c00dab34a1546fd1eef90878ad1becf0befc842280d9d7a23322d60cd"></a>postNotification&#160;</td><td class="fielddoc"><p>Permission to post notifications. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classPushNotifications.html#a955877ef0523bcc0d5d2c99dfc3c7271" title="Initialises push notifications on current device with the settings provided.">PushNotifications::requestPermissionsWithSettings</a> </dd></dl>
</td></tr>
</table>

</div>
</div>
<a name="doc-func-members" id="doc-func-members"></a><h2 id="header-doc-func-members" class="groupheader">Member Function Documentation</h2>
<a id="a9b45f4bb7ea1cc3bf5693fa2ec33b7c3" name="a9b45f4bb7ea1cc3bf5693fa2ec33b7c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b45f4bb7ea1cc3bf5693fa2ec33b7c3">&#9670;&#160;</a></span>request()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void RuntimePermissions::request </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#ae35d63b8c00dab34a1546fd1eef90878">PermissionID</a></td>          <td class="paramname"><span class="paramname"><em>permission</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#ab43b3b89ad2cb7e7f41f0fe4a4a9c2a1">Callback</a></td>          <td class="paramname"><span class="paramname"><em>callback</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Call this method to request a runtime permission. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">permission</td><td>The <a class="el" href="#ae35d63b8c00dab34a1546fd1eef90878">PermissionID</a> of the permission you want to request.</td></tr>
    <tr><td class="paramname">callback</td><td>The callback to be called after the request has been granted or denied; the argument passed will be true if the permission has been granted and false otherwise.</td></tr>
  </table>
  </dd>
</dl>
<p>If no runtime request is required or possible to obtain the permission, the callback will be called immediately. The argument passed in will be true if the permission is granted or no permission is required on this platform, and false otherwise.</p>
<p>If a runtime request is required to obtain the permission, the callback will be called asynchronously after the OS has granted or denied the requested permission (typically by displaying a dialog box to the user and waiting until the user has responded). </p>

<p class="reference">Referenced by <a class="el" href="classStandalonePluginHolder.html#aa31b5a490ea06c2b0b7fe4e1e7fd5e43">StandalonePluginHolder::StandalonePluginHolder()</a>.</p>

</div>
</div>
<a id="a895f15741378bada300fbe409775d0d8" name="a895f15741378bada300fbe409775d0d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a895f15741378bada300fbe409775d0d8">&#9670;&#160;</a></span>isRequired()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool RuntimePermissions::isRequired </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#ae35d63b8c00dab34a1546fd1eef90878">PermissionID</a></td>          <td class="paramname"><span class="paramname"><em>permission</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns whether a runtime request is required to obtain the permission on the current platform. </p>

<p class="reference">Referenced by <a class="el" href="classStandalonePluginHolder.html#aa31b5a490ea06c2b0b7fe4e1e7fd5e43">StandalonePluginHolder::StandalonePluginHolder()</a>.</p>

</div>
</div>
<a id="a88697ee964654de2fea2eac5ed048979" name="a88697ee964654de2fea2eac5ed048979"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a88697ee964654de2fea2eac5ed048979">&#9670;&#160;</a></span>isGranted()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool RuntimePermissions::isGranted </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#ae35d63b8c00dab34a1546fd1eef90878">PermissionID</a></td>          <td class="paramname"><span class="paramname"><em>permission</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns true if the app has been already granted this permission, either via a previous runtime request or otherwise, or no permission is necessary. </p>
<p>Note that this can be false even if isRequired returns false. In this case, the permission can not be obtained at all at runtime. </p>

<p class="reference">Referenced by <a class="el" href="classStandalonePluginHolder.html#aa31b5a490ea06c2b0b7fe4e1e7fd5e43">StandalonePluginHolder::StandalonePluginHolder()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
