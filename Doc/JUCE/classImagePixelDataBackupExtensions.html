<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>JUCE: ImagePixelDataBackupExtensions Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">JUCE
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<div id="main-nav">
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="topics.html"><span>Topics</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect" class="search-icon" onmouseover="return searchBox.OnSearchSelectShow()" onmouseout="return searchBox.OnSearchSelectHide()"><span class="search-icon-dropdown"></span></span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><div id="MSearchCloseImg" class="close-icon"></div></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- main-nav -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="classImagePixelDataBackupExtensions-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">ImagePixelDataBackupExtensions Class Reference<span class="mlabels"><span class="mlabel abstract">abstract</span></span><div class="ingroups"><a class="el" href="group__juce__graphics.html">juce_graphics</a> &raquo; <a class="el" href="group__juce__graphics-images.html">images</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>The methods on this interface allow clients of <a class="el" href="classImagePixelData.html" title="This is a base class for holding image data in implementation-specific ways.">ImagePixelData</a> to query and control the automatic-backup process from graphics memory to main memory, if this mechanism is relevant and supported.  
 <a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-pub-methods" class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a276835239caa651db735c251950dc5ac" id="r_a276835239caa651db735c251950dc5ac"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a276835239caa651db735c251950dc5ac">setBackupEnabled</a> (bool)=0</td></tr>
<tr class="memdesc:a276835239caa651db735c251950dc5ac"><td class="mdescLeft">&#160;</td><td class="mdescRight">The automatic image backup mechanism can be disabled by passing false to this function, or enabled by passing true.  <br /></td></tr>
<tr class="memitem:a66e5b2e5c32a724d4416778192336d06" id="r_a66e5b2e5c32a724d4416778192336d06"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a66e5b2e5c32a724d4416778192336d06">isBackupEnabled</a> () const =0</td></tr>
<tr class="memitem:a33b9f64680af0593165781b95af3b432" id="r_a33b9f64680af0593165781b95af3b432"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a33b9f64680af0593165781b95af3b432">backupNow</a> ()=0</td></tr>
<tr class="memdesc:a33b9f64680af0593165781b95af3b432"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function will attempt to make the image resilient to graphics device disconnection by copying from graphics memory to main memory.  <br /></td></tr>
<tr class="memitem:a893e8affaf6221c011bf3eb9043a77a0" id="r_a893e8affaf6221c011bf3eb9043a77a0"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a893e8affaf6221c011bf3eb9043a77a0">needsBackup</a> () const =0</td></tr>
<tr class="memdesc:a893e8affaf6221c011bf3eb9043a77a0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the main-memory copy of the image is out-of-date, false if it's up-to-date.  <br /></td></tr>
<tr class="memitem:abc5edbbbe16ed3051199fd780b8703c1" id="r_abc5edbbbe16ed3051199fd780b8703c1"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abc5edbbbe16ed3051199fd780b8703c1">canBackup</a> () const =0</td></tr>
<tr class="memdesc:abc5edbbbe16ed3051199fd780b8703c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns if there is an up-to-date copy of this image in graphics memory, or false otherwise.  <br /></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-pro-methods" class="groupheader"><a id="pro-methods" name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a17d42b93f07154a6447d54dd7a913acb" id="r_a17d42b93f07154a6447d54dd7a913acb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a17d42b93f07154a6447d54dd7a913acb">~ImagePixelDataBackupExtensions</a> ()=default</td></tr>
</table>
<a name="details" id="details"></a><h2 id="header-details" class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The methods on this interface allow clients of <a class="el" href="classImagePixelData.html" title="This is a base class for holding image data in implementation-specific ways.">ImagePixelData</a> to query and control the automatic-backup process from graphics memory to main memory, if this mechanism is relevant and supported. </p>
<p>Some image types (Direct2D, OpenGL) are backed by textures that live in graphics memory. Such textures are quick to display, but they will be lost if the graphics device goes away.</p>
<p>Normally, a backup of the texture will be kept in main memory, so that the image can still be used even if any graphics device goes away. While this has the benefit that programs are automatically resilient to graphics devices going away, it also incurs some performance overhead, because the texture content must be copied back to main memory after each modification.</p>
<p>For performance-sensitive applications it can be beneficial to disable the automatic sync behaviour, and to sync manually instead, which can be achieved using the methods of this type.</p>
<p>The following table shows how to interpret the results of this type's member functions.</p>
<h2><a class="el" href="#a893e8affaf6221c011bf3eb9043a77a0" title="Returns true if the main-memory copy of the image is out-of-date, false if it&#39;s up-to-date.">needsBackup()</a> | <a class="el" href="#abc5edbbbe16ed3051199fd780b8703c1" title="Returns if there is an up-to-date copy of this image in graphics memory, or false otherwise.">canBackup()</a> | meaning </h2>
<p>true | true | the main-memory copy of the image is outdated, but there's an | | up-to-date copy in graphics memory | | true | false | although main memory is out-of-date, the most recent copy of | | the image in graphics memory has been lost | | false | true | main memory is up-to-date with graphics memory; graphics | | memory is still available; | | false | false | main memory has an up-to-date copy of the image, but the most | | recent copy of the image in graphics memory has been lost </p>
</div><a name="doc-constructors" id="doc-constructors"></a><h2 id="header-doc-constructors" class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a17d42b93f07154a6447d54dd7a913acb" name="a17d42b93f07154a6447d54dd7a913acb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a17d42b93f07154a6447d54dd7a913acb">&#9670;&#160;</a></span>~ImagePixelDataBackupExtensions()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ImagePixelDataBackupExtensions::~ImagePixelDataBackupExtensions </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span><span class="mlabel default">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a name="doc-func-members" id="doc-func-members"></a><h2 id="header-doc-func-members" class="groupheader">Member Function Documentation</h2>
<a id="a276835239caa651db735c251950dc5ac" name="a276835239caa651db735c251950dc5ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a276835239caa651db735c251950dc5ac">&#9670;&#160;</a></span>setBackupEnabled()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void ImagePixelDataBackupExtensions::setBackupEnabled </td>
          <td>(</td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel pure-virtual">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The automatic image backup mechanism can be disabled by passing false to this function, or enabled by passing true. </p>
<p>If you disable automatic backup for a particular image, make sure you test that your software behaves as expected when graphics devices are disconnected. One easy way to test this on Windows is to use your program over a remote desktop session, and to end and re-start the session while the image is being displayed.</p>
<p>The most common scenario where this flag is useful is when drawing single-use images. e.g. for a drop shadow or other effect, the following series of steps might be carried out on each paint call:</p><ul>
<li>Create a path that matches the shadowed component's outline</li>
<li>Draw the path into a temporary image</li>
<li>Blur the temporary image</li>
<li>Draw the temporary image into some other context</li>
<li>(destroy the temporary image)</li>
</ul>
<p>In this case, where the image is created, modified, used, and destroyed in quick succession, there's no need to keep a resilient backup of the image around, so it's reasonable to call setBackupEnabled(false) after constructing the image.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#a66e5b2e5c32a724d4416778192336d06">isBackupEnabled()</a>, <a class="el" href="#a33b9f64680af0593165781b95af3b432" title="This function will attempt to make the image resilient to graphics device disconnection by copying fr...">backupNow()</a> </dd></dl>

</div>
</div>
<a id="a66e5b2e5c32a724d4416778192336d06" name="a66e5b2e5c32a724d4416778192336d06"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a66e5b2e5c32a724d4416778192336d06">&#9670;&#160;</a></span>isBackupEnabled()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool ImagePixelDataBackupExtensions::isBackupEnabled </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel pure-virtual">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#a276835239caa651db735c251950dc5ac" title="The automatic image backup mechanism can be disabled by passing false to this function,...">setBackupEnabled()</a>, <a class="el" href="#a33b9f64680af0593165781b95af3b432" title="This function will attempt to make the image resilient to graphics device disconnection by copying fr...">backupNow()</a> </dd></dl>

</div>
</div>
<a id="a33b9f64680af0593165781b95af3b432" name="a33b9f64680af0593165781b95af3b432"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a33b9f64680af0593165781b95af3b432">&#9670;&#160;</a></span>backupNow()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool ImagePixelDataBackupExtensions::backupNow </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel pure-virtual">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This function will attempt to make the image resilient to graphics device disconnection by copying from graphics memory to main memory. </p>
<p>By default, backups happen automatically, so there's no need to call this function unless auto-backup has been disabled on this image.</p>
<p>Flushing may fail if the graphics device goes away before its memory can be read. If <a class="el" href="#a893e8affaf6221c011bf3eb9043a77a0" title="Returns true if the main-memory copy of the image is out-of-date, false if it&#39;s up-to-date.">needsBackup()</a> returns false, then <a class="el" href="#a33b9f64680af0593165781b95af3b432" title="This function will attempt to make the image resilient to graphics device disconnection by copying fr...">backupNow()</a> will always return true without doing any work.</p>
<dl class="section return"><dt>Returns</dt><dd>true if the main-memory copy of the image is up-to-date, or false otherwise.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#a276835239caa651db735c251950dc5ac" title="The automatic image backup mechanism can be disabled by passing false to this function,...">setBackupEnabled()</a>, <a class="el" href="#a66e5b2e5c32a724d4416778192336d06">isBackupEnabled()</a> </dd></dl>

</div>
</div>
<a id="a893e8affaf6221c011bf3eb9043a77a0" name="a893e8affaf6221c011bf3eb9043a77a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a893e8affaf6221c011bf3eb9043a77a0">&#9670;&#160;</a></span>needsBackup()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool ImagePixelDataBackupExtensions::needsBackup </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel pure-virtual">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns true if the main-memory copy of the image is out-of-date, false if it's up-to-date. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#abc5edbbbe16ed3051199fd780b8703c1" title="Returns if there is an up-to-date copy of this image in graphics memory, or false otherwise.">canBackup()</a> </dd></dl>

</div>
</div>
<a id="abc5edbbbe16ed3051199fd780b8703c1" name="abc5edbbbe16ed3051199fd780b8703c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc5edbbbe16ed3051199fd780b8703c1">&#9670;&#160;</a></span>canBackup()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool ImagePixelDataBackupExtensions::canBackup </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel pure-virtual">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns if there is an up-to-date copy of this image in graphics memory, or false otherwise. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#a893e8affaf6221c011bf3eb9043a77a0" title="Returns true if the main-memory copy of the image is out-of-date, false if it&#39;s up-to-date.">needsBackup()</a> </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
