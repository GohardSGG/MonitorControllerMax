<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>JUCE: HighResolutionTimer Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">JUCE
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<div id="main-nav">
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="topics.html"><span>Topics</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect" class="search-icon" onmouseover="return searchBox.OnSearchSelectShow()" onmouseout="return searchBox.OnSearchSelectHide()"><span class="search-icon-dropdown"></span></span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><div id="MSearchCloseImg" class="close-icon"></div></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- main-nav -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="classHighResolutionTimer-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">HighResolutionTimer Class Reference<span class="mlabels"><span class="mlabel abstract">abstract</span></span><div class="ingroups"><a class="el" href="group__juce__core.html">juce_core</a> &raquo; <a class="el" href="group__juce__core-threads.html">threads</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>A high-resolution periodic timer.  
 <a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-pub-methods" class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a5eb450755a308ebc74e30085af52082b" id="r_a5eb450755a308ebc74e30085af52082b"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5eb450755a308ebc74e30085af52082b">~HighResolutionTimer</a> ()</td></tr>
<tr class="memdesc:a5eb450755a308ebc74e30085af52082b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor.  <br /></td></tr>
<tr class="memitem:a38fac5960301220b28b687817e4e7598" id="r_a38fac5960301220b28b687817e4e7598"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a38fac5960301220b28b687817e4e7598">hiResTimerCallback</a> ()=0</td></tr>
<tr class="memdesc:a38fac5960301220b28b687817e4e7598"><td class="mdescLeft">&#160;</td><td class="mdescRight">The user-defined callback routine that actually gets called periodically.  <br /></td></tr>
<tr class="memitem:a9d3709eee45c33f0d2095ab80121a965" id="r_a9d3709eee45c33f0d2095ab80121a965"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9d3709eee45c33f0d2095ab80121a965">startTimer</a> (int intervalInMilliseconds)</td></tr>
<tr class="memdesc:a9d3709eee45c33f0d2095ab80121a965"><td class="mdescLeft">&#160;</td><td class="mdescRight">Starts the timer and sets the length of interval required.  <br /></td></tr>
<tr class="memitem:a141251dfd58c8564709a15da52dffd3a" id="r_a141251dfd58c8564709a15da52dffd3a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a141251dfd58c8564709a15da52dffd3a">stopTimer</a> ()</td></tr>
<tr class="memdesc:a141251dfd58c8564709a15da52dffd3a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stops the timer.  <br /></td></tr>
<tr class="memitem:a628e5e8a30df147af372818baa96cf96" id="r_a628e5e8a30df147af372818baa96cf96"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a628e5e8a30df147af372818baa96cf96">isTimerRunning</a> () const noexcept</td></tr>
<tr class="memdesc:a628e5e8a30df147af372818baa96cf96"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if the timer has been started.  <br /></td></tr>
<tr class="memitem:a96e6af2a70291b57cba40155cb4cbc01" id="r_a96e6af2a70291b57cba40155cb4cbc01"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a96e6af2a70291b57cba40155cb4cbc01">getTimerInterval</a> () const noexcept</td></tr>
<tr class="memdesc:a96e6af2a70291b57cba40155cb4cbc01"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the timer's interval.  <br /></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-pro-methods" class="groupheader"><a id="pro-methods" name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:ac79eb2389b1d52cd4a387836fe9ce860" id="r_ac79eb2389b1d52cd4a387836fe9ce860"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac79eb2389b1d52cd4a387836fe9ce860">HighResolutionTimer</a> ()</td></tr>
<tr class="memdesc:ac79eb2389b1d52cd4a387836fe9ce860"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a <a class="el" href="classHighResolutionTimer.html" title="A high-resolution periodic timer.">HighResolutionTimer</a>.  <br /></td></tr>
</table>
<a name="details" id="details"></a><h2 id="header-details" class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A high-resolution periodic timer. </p>
<p>This provides accurately-timed regular callbacks. Unlike the normal <a class="el" href="classTimer.html" title="Makes repeated callbacks to a virtual method at a specified time interval.">Timer</a> class, this one uses a dedicated thread, not the message thread, so is far more stable and precise.</p>
<p>You should only use this class in situations where you really need accuracy, because unlike the normal <a class="el" href="classTimer.html" title="Makes repeated callbacks to a virtual method at a specified time interval.">Timer</a> class, which is very lightweight and cheap the <a class="el" href="classHighResolutionTimer.html" title="A high-resolution periodic timer.">HighResolutionTimer</a> will use far more resources and require thread safety considerations.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classTimer.html" title="Makes repeated callbacks to a virtual method at a specified time interval.">Timer</a> </dd></dl>
</div><a name="doc-constructors" id="doc-constructors"></a><h2 id="header-doc-constructors" class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ac79eb2389b1d52cd4a387836fe9ce860" name="ac79eb2389b1d52cd4a387836fe9ce860"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac79eb2389b1d52cd4a387836fe9ce860">&#9670;&#160;</a></span>HighResolutionTimer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">HighResolutionTimer::HighResolutionTimer </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates a <a class="el" href="classHighResolutionTimer.html" title="A high-resolution periodic timer.">HighResolutionTimer</a>. </p>
<p>When created, the timer is stopped, so use <a class="el" href="#a9d3709eee45c33f0d2095ab80121a965" title="Starts the timer and sets the length of interval required.">startTimer()</a> to get it going. </p>

<p class="reference">Referenced by <a class="el" href="#a96e6af2a70291b57cba40155cb4cbc01">getTimerInterval()</a>.</p>

</div>
</div>
<a id="a5eb450755a308ebc74e30085af52082b" name="a5eb450755a308ebc74e30085af52082b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5eb450755a308ebc74e30085af52082b">&#9670;&#160;</a></span>~HighResolutionTimer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual HighResolutionTimer::~HighResolutionTimer </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel virtual">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Destructor. </p>

</div>
</div>
<a name="doc-func-members" id="doc-func-members"></a><h2 id="header-doc-func-members" class="groupheader">Member Function Documentation</h2>
<a id="a38fac5960301220b28b687817e4e7598" name="a38fac5960301220b28b687817e4e7598"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a38fac5960301220b28b687817e4e7598">&#9670;&#160;</a></span>hiResTimerCallback()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void HighResolutionTimer::hiResTimerCallback </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel pure-virtual">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The user-defined callback routine that actually gets called periodically. </p>
<p>This will be called on a dedicated timer thread, so make sure your implementation is thread-safe!</p>
<p>On some platforms the dedicated timer thread may be shared with other <a class="el" href="classHighResolutionTimer.html" title="A high-resolution periodic timer.">HighResolutionTimer</a>'s so aim to complete any work in this callback as fast as possible.</p>
<p>It's perfectly ok to call <a class="el" href="#a9d3709eee45c33f0d2095ab80121a965" title="Starts the timer and sets the length of interval required.">startTimer()</a> or <a class="el" href="#a141251dfd58c8564709a15da52dffd3a" title="Stops the timer.">stopTimer()</a> from within this callback to change the subsequent intervals. However, if you call <a class="el" href="#a141251dfd58c8564709a15da52dffd3a" title="Stops the timer.">stopTimer()</a> in the callback it's still best practice to call <a class="el" href="#a141251dfd58c8564709a15da52dffd3a" title="Stops the timer.">stopTimer()</a> from the destructor in order to avoid data races. </p>

</div>
</div>
<a id="a9d3709eee45c33f0d2095ab80121a965" name="a9d3709eee45c33f0d2095ab80121a965"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d3709eee45c33f0d2095ab80121a965">&#9670;&#160;</a></span>startTimer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void HighResolutionTimer::startTimer </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>intervalInMilliseconds</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Starts the timer and sets the length of interval required. </p>
<p>If the timer has already started, this will reset the timer, so the time between calling this method and the next timer callback will not be less than the interval length passed in.</p>
<p>In exceptional circumstances the dedicated timer thread may not start, if this is a potential concern for your use case, you can call <a class="el" href="#a628e5e8a30df147af372818baa96cf96" title="Checks if the timer has been started.">isTimerRunning()</a> to confirm if the timer actually started.</p>
<p>On Windows the underlying API only allows 16 high-resolution timers to run simultaneously in the same process. A fallback timer will be used when this limit is exceeded but the precision may be significantly compromised. This is a particular concern for plugins, because other plugins in the same host process may already have timers running. To avoid issues, try to use the minimum number of HighResolutionTimers possible. For example, consider using a <a class="el" href="classSharedResourcePointer.html" title="A smart-pointer that automatically creates and manages the lifetime of a shared static instance of a ...">SharedResourcePointer</a> so that all instances of the same plugin running in the same same process can share a single <a class="el" href="classHighResolutionTimer.html" title="A high-resolution periodic timer.">HighResolutionTimer</a> instance.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">intervalInMilliseconds</td><td>the interval to use (a value of zero or less will stop the timer) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a141251dfd58c8564709a15da52dffd3a" name="a141251dfd58c8564709a15da52dffd3a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a141251dfd58c8564709a15da52dffd3a">&#9670;&#160;</a></span>stopTimer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void HighResolutionTimer::stopTimer </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stops the timer. </p>
<p>This method may block while it waits for pending callbacks to complete. Once it returns, no more callbacks will be made. If it is called from the timer's own thread, it will cancel the timer after the current callback returns.</p>
<p>To prevent data races it's normally best practice to call this in the derived classes destructor, even if <a class="el" href="#a141251dfd58c8564709a15da52dffd3a" title="Stops the timer.">stopTimer()</a> was called in the <a class="el" href="#a38fac5960301220b28b687817e4e7598" title="The user-defined callback routine that actually gets called periodically.">hiResTimerCallback()</a>. </p>

</div>
</div>
<a id="a628e5e8a30df147af372818baa96cf96" name="a628e5e8a30df147af372818baa96cf96"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a628e5e8a30df147af372818baa96cf96">&#9670;&#160;</a></span>isTimerRunning()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool HighResolutionTimer::isTimerRunning </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel noexcept">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Checks if the timer has been started. </p>
<dl class="section return"><dt>Returns</dt><dd>true if the timer is running. </dd></dl>

</div>
</div>
<a id="a96e6af2a70291b57cba40155cb4cbc01" name="a96e6af2a70291b57cba40155cb4cbc01"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a96e6af2a70291b57cba40155cb4cbc01">&#9670;&#160;</a></span>getTimerInterval()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int HighResolutionTimer::getTimerInterval </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel noexcept">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the timer's interval. </p>
<dl class="section return"><dt>Returns</dt><dd>the timer's interval in milliseconds if it's running, or 0 if it's not. </dd></dl>

<p class="reference">References <a class="el" href="#a96e6af2a70291b57cba40155cb4cbc01">getTimerInterval()</a>, <a class="el" href="#ac79eb2389b1d52cd4a387836fe9ce860">HighResolutionTimer()</a>, and <a class="el" href="group__juce__core-system.html#ga851b02724a8158a7f746c66b5758b3dd">JUCE_DECLARE_NON_COPYABLE_WITH_LEAK_DETECTOR</a>.</p>

<p class="reference">Referenced by <a class="el" href="#a96e6af2a70291b57cba40155cb4cbc01">getTimerInterval()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
