<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>JUCE: juce::midi_ci::PropertyHost Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">JUCE
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<div id="main-nav">
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="topics.html"><span>Topics</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect" class="search-icon" onmouseover="return searchBox.OnSearchSelectShow()" onmouseout="return searchBox.OnSearchSelectHide()"><span class="search-icon-dropdown"></span></span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><div id="MSearchCloseImg" class="close-icon"></div></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- main-nav -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a href="namespacejuce.html">juce</a></li><li class="navelem"><a href="namespacejuce_1_1midi__ci.html">midi_ci</a></li><li class="navelem"><a href="classjuce_1_1midi__ci_1_1PropertyHost.html">PropertyHost</a></li>  </ul>
</div>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classjuce_1_1midi__ci_1_1PropertyHost-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">juce::midi_ci::PropertyHost Class Reference<span class="mlabels"><span class="mlabel final">final</span></span><div class="ingroups"><a class="el" href="group__juce__midi__ci.html">juce_midi_ci</a> &raquo; <a class="el" href="group__juce__midi__ci-ci.html">ci</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>Acting as a ResponderListener, instances of this class can formulate appropriate replies to property transactions initiated by remote devices.  
 <a href="#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for juce::midi_ci::PropertyHost:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" loading="lazy" frameborder="0" src="classjuce_1_1midi__ci_1_1PropertyHost__inherit__graph.svg" width="191" height="128"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-pub-methods" class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a8a9a0412307c4da91df1ec0ab6126630" id="r_a8a9a0412307c4da91df1ec0ab6126630"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8a9a0412307c4da91df1ec0ab6126630">PropertyHost</a> (<a class="el" href="structjuce_1_1midi__ci_1_1FunctionBlock.html">FunctionBlock</a> fb, <a class="el" href="structjuce_1_1midi__ci_1_1PropertyDelegate.html">PropertyDelegate</a> &amp;d, <a class="el" href="classjuce_1_1midi__ci_1_1BufferOutput.html">BufferOutput</a> &amp;o, <a class="el" href="classjuce_1_1midi__ci_1_1CacheProvider.html">CacheProvider</a> &amp;p)</td></tr>
<tr class="memitem:a39b8439b71a6f75158c9b5cd1d1550be" id="r_a39b8439b71a6f75158c9b5cd1d1550be"><td class="memItemLeft" align="right" valign="top">std::optional&lt; <a class="el" href="classjuce_1_1midi__ci_1_1RequestKey.html">RequestKey</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a39b8439b71a6f75158c9b5cd1d1550be">sendSubscriptionUpdate</a> (<a class="el" href="classjuce_1_1midi__ci_1_1MUID.html">MUID</a> device, const <a class="el" href="structjuce_1_1midi__ci_1_1PropertySubscriptionHeader.html">PropertySubscriptionHeader</a> &amp;header, <a class="el" href="classSpan.html">Span</a>&lt; const std::byte &gt; body, std::function&lt; void(const <a class="el" href="classjuce_1_1midi__ci_1_1PropertyExchangeResult.html">PropertyExchangeResult</a> &amp;)&gt; callback)</td></tr>
<tr class="memdesc:a39b8439b71a6f75158c9b5cd1d1550be"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends a "Subscription" message from a device, when acting as a subscription responder.  <br /></td></tr>
<tr class="memitem:abbac6640401927e42d275d3425191220" id="r_abbac6640401927e42d275d3425191220"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abbac6640401927e42d275d3425191220">terminateSubscription</a> (<a class="el" href="classjuce_1_1midi__ci_1_1MUID.html">MUID</a> device, const <a class="el" href="classString.html">String</a> &amp;subscribeId)</td></tr>
<tr class="memdesc:abbac6640401927e42d275d3425191220"><td class="mdescLeft">&#160;</td><td class="mdescRight">Terminates a subscription that was started by a remote device.  <br /></td></tr>
<tr class="memitem:aa435e986b7c95d76703cb54c1a9e368e" id="r_aa435e986b7c95d76703cb54c1a9e368e"><td class="memItemLeft" align="right" valign="top">std::set&lt; <a class="el" href="structjuce_1_1midi__ci_1_1Subscription.html">Subscription</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa435e986b7c95d76703cb54c1a9e368e">findSubscriptionsForDevice</a> (<a class="el" href="classjuce_1_1midi__ci_1_1MUID.html">MUID</a> device) const</td></tr>
<tr class="memdesc:aa435e986b7c95d76703cb54c1a9e368e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a set of subscribed resources.  <br /></td></tr>
<tr class="memitem:abbe44910a2d06e05fa829318af05a68c" id="r_abbe44910a2d06e05fa829318af05a68c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abbe44910a2d06e05fa829318af05a68c">countOngoingTransactions</a> () const</td></tr>
<tr class="memdesc:abbe44910a2d06e05fa829318af05a68c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of transactions that have been initiated by other devices, but not yet completed, normally because the request has been split into several messages.  <br /></td></tr>
<tr class="memitem:a63b2c9c6a57b35c1aaf69704afe94d5b" id="r_a63b2c9c6a57b35c1aaf69704afe94d5b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a63b2c9c6a57b35c1aaf69704afe94d5b">tryRespond</a> (<a class="el" href="classjuce_1_1midi__ci_1_1ResponderOutput.html">ResponderOutput</a> &amp;, const <a class="el" href="structjuce_1_1midi__ci_1_1Message_1_1Parsed.html">Message::Parsed</a> &amp;) override</td></tr>
<tr class="memdesc:a63b2c9c6a57b35c1aaf69704afe94d5b"><td class="mdescLeft">&#160;</td><td class="mdescRight">If the message is processed successfully, and a response sent, then this returns true.  <br /></td></tr>
<tr class="inherit_header pub_methods_classjuce_1_1midi__ci_1_1ResponderDelegate"><td colspan="2" onclick="javascript:dynsection.toggleInherit('pub_methods_classjuce_1_1midi__ci_1_1ResponderDelegate')"><span class="dynarrow"><span class="arrowhead closed"></span></span>Public Member Functions inherited from <a class="el" href="classjuce_1_1midi__ci_1_1ResponderDelegate.html">juce::midi_ci::ResponderDelegate</a></td></tr>
<tr class="memitem:ac72355c029c57dc435f28c3772cd4738 inherit pub_methods_classjuce_1_1midi__ci_1_1ResponderDelegate" id="r_ac72355c029c57dc435f28c3772cd4738"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjuce_1_1midi__ci_1_1ResponderDelegate.html#ac72355c029c57dc435f28c3772cd4738">ResponderDelegate</a> ()=default</td></tr>
<tr class="memitem:a7fc809255b94c01ab2a26fba6f037d45 inherit pub_methods_classjuce_1_1midi__ci_1_1ResponderDelegate" id="r_a7fc809255b94c01ab2a26fba6f037d45"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjuce_1_1midi__ci_1_1ResponderDelegate.html#a7fc809255b94c01ab2a26fba6f037d45">~ResponderDelegate</a> ()=default</td></tr>
</table>
<a name="details" id="details"></a><h2 id="header-details" class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Acting as a ResponderListener, instances of this class can formulate appropriate replies to property transactions initiated by remote devices. </p>
<p><a class="el" href="classjuce_1_1midi__ci_1_1PropertyHost.html" title="Acting as a ResponderListener, instances of this class can formulate appropriate replies to property ...">PropertyHost</a> instances also contain methods to inform remote devices about changes to local property state.</p>
<p>Keeps track of property subscriptions requested by remote devices. </p>
</div><a name="doc-constructors" id="doc-constructors"></a><h2 id="header-doc-constructors" class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a8a9a0412307c4da91df1ec0ab6126630" name="a8a9a0412307c4da91df1ec0ab6126630"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a9a0412307c4da91df1ec0ab6126630">&#9670;&#160;</a></span>PropertyHost()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">juce::midi_ci::PropertyHost::PropertyHost </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structjuce_1_1midi__ci_1_1FunctionBlock.html">FunctionBlock</a></td>          <td class="paramname"><span class="paramname"><em>fb</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structjuce_1_1midi__ci_1_1PropertyDelegate.html">PropertyDelegate</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>d</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classjuce_1_1midi__ci_1_1BufferOutput.html">BufferOutput</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>o</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classjuce_1_1midi__ci_1_1CacheProvider.html">CacheProvider</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>p</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a name="doc-func-members" id="doc-func-members"></a><h2 id="header-doc-func-members" class="groupheader">Member Function Documentation</h2>
<a id="a39b8439b71a6f75158c9b5cd1d1550be" name="a39b8439b71a6f75158c9b5cd1d1550be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a39b8439b71a6f75158c9b5cd1d1550be">&#9670;&#160;</a></span>sendSubscriptionUpdate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::optional&lt; <a class="el" href="classjuce_1_1midi__ci_1_1RequestKey.html">RequestKey</a> &gt; juce::midi_ci::PropertyHost::sendSubscriptionUpdate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classjuce_1_1midi__ci_1_1MUID.html">MUID</a></td>          <td class="paramname"><span class="paramname"><em>device</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structjuce_1_1midi__ci_1_1PropertySubscriptionHeader.html">PropertySubscriptionHeader</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>header</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classSpan.html">Span</a>&lt; const std::byte &gt;</td>          <td class="paramname"><span class="paramname"><em>body</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::function&lt; void(const <a class="el" href="classjuce_1_1midi__ci_1_1PropertyExchangeResult.html">PropertyExchangeResult</a> &amp;)&gt;</td>          <td class="paramname"><span class="paramname"><em>callback</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sends a "Subscription" message from a device, when acting as a subscription responder. </p>
<p>You should call this for all registered subscribers whenever the subscribed property is modified in a way that remote devices don't know about (if a remote device requests a property update, there's no need to send a subscription update after changing the property accordingly).</p>
<p>You should <em>not</em> attempt to start a new subscription on another device using this function. Valid subscription commands are "full", "partial", and "notify". Check the property exchange specification for the intended use of these commands.</p>
<p>To terminate a subscription that was initiated by a remote device, use <a class="el" href="#abbac6640401927e42d275d3425191220" title="Terminates a subscription that was started by a remote device.">terminateSubscription()</a>.</p>
<p>The provided callback will be called once the remote device has confirmed receipt of the subscription update. If the state of your application changes such that you no longer need to respond/wait for confirmation, you can pass the request key to <a class="el" href="classjuce_1_1midi__ci_1_1Device.html#ae8f3d83a60dc8b51da99599278a8c43d" title="Cancels a request started with sendPropertyGetInquiry() or sendPropertySetInquiry().">Device::abortPropertyRequest()</a>. </p>

</div>
</div>
<a id="abbac6640401927e42d275d3425191220" name="abbac6640401927e42d275d3425191220"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abbac6640401927e42d275d3425191220">&#9670;&#160;</a></span>terminateSubscription()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void juce::midi_ci::PropertyHost::terminateSubscription </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classjuce_1_1midi__ci_1_1MUID.html">MUID</a></td>          <td class="paramname"><span class="paramname"><em>device</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classString.html">String</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>subscribeId</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Terminates a subscription that was started by a remote device. </p>
<p>This may be useful if your application has properties that can be added and removed - you can terminate subscriptions to subscribed properties before removing those properties. </p>

</div>
</div>
<a id="aa435e986b7c95d76703cb54c1a9e368e" name="aa435e986b7c95d76703cb54c1a9e368e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa435e986b7c95d76703cb54c1a9e368e">&#9670;&#160;</a></span>findSubscriptionsForDevice()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::set&lt; <a class="el" href="structjuce_1_1midi__ci_1_1Subscription.html">Subscription</a> &gt; juce::midi_ci::PropertyHost::findSubscriptionsForDevice </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classjuce_1_1midi__ci_1_1MUID.html">MUID</a></td>          <td class="paramname"><span class="paramname"><em>device</em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns a set of subscribed resources. </p>
<p>This set contains all active subscriptionIDs for the given device, along with the resources to which those subscriptionIDs refer. </p>

</div>
</div>
<a id="abbe44910a2d06e05fa829318af05a68c" name="abbe44910a2d06e05fa829318af05a68c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abbe44910a2d06e05fa829318af05a68c">&#9670;&#160;</a></span>countOngoingTransactions()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int juce::midi_ci::PropertyHost::countOngoingTransactions </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the number of transactions that have been initiated by other devices, but not yet completed, normally because the request has been split into several messages. </p>

</div>
</div>
<a id="a63b2c9c6a57b35c1aaf69704afe94d5b" name="a63b2c9c6a57b35c1aaf69704afe94d5b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a63b2c9c6a57b35c1aaf69704afe94d5b">&#9670;&#160;</a></span>tryRespond()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool juce::midi_ci::PropertyHost::tryRespond </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classjuce_1_1midi__ci_1_1ResponderOutput.html">ResponderOutput</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>output</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structjuce_1_1midi__ci_1_1Message_1_1Parsed.html">Message::Parsed</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>message</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel override">override</span><span class="mlabel virtual">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>If the message is processed successfully, and a response sent, then this returns true. </p>
<p>Otherwise, returns false, allowing other ResponderDelegates to attempt to handle the message if necessary. </p>

<p>Implements <a class="el" href="classjuce_1_1midi__ci_1_1ResponderDelegate.html#ab13e7ba1b4b5a3b3534419300aa1eadd">juce::midi_ci::ResponderDelegate</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
